// Fixes es6 compatibility error in FixedDataTable

Object.assign = Object.assign || require('object-assign');

var React = require('react'),
    Router = require('react-router'),
    RouteHandler = Router.RouteHandler,
    AppLeftNav = require('./app-left-nav.jsx'),
    mui = require('material-ui'),
    FixedDataTable = require('fixed-data-table'),
    Table = FixedDataTable.Table,
    Column = FixedDataTable.Column,
    rd3 = require('react-d3'),
    d3 = require('d3');

// Main Menu Data
  
var nestedMenuItems = [
  { payload: '1', text: 'Administration'},
  { payload: '2', text: 'Executive'},
  { payload: '3', text: 'Field Ops'},
  { payload: '4', text: 'Finance'},
  { payload: '5', text: 'HR'},
  { payload: '6', text: 'Provisioning'},
  { payload: '7', text: 'Sales'},
  { payload: '8', text: 'Support'},
  { payload: '9', text: 'Voice Ops'},
  { payload: '10', text: 'Demo Employee'},
];

// Dropdown Menu Data

var workItems = [
   { payload: '1', text: 'Work Orders' }
];

var openTicketItems = [
   { payload: '1', text: 'Open Tickets' }
];

var closedTicketItems = [
   { payload: '1', text: 'Closed Tickets' }
];

// Table Data

var rows = [
  ['a1', 'b1', 'c1', 'a1', 'b1', 'c1'],
  ['a2', 'b3', 'c2', 'a1', 'b1', 'c1'],
  ['a3', 'b3', 'c3', 'a1', 'b1', 'c1'],
  ['a1', 'b1', 'c1', 'a1', 'b1', 'c1'],
  ['a2', 'b3', 'c2', 'a1', 'b1', 'c1'],
  ['a3', 'b3', 'c3', 'a1', 'b1', 'c1'],
  ['a1', 'b1', 'c1', 'a1', 'b1', 'c1'],
  ['a2', 'b3', 'c2', 'a1', 'b1', 'c1'],
  ['a3', 'b3', 'c3', 'a1', 'b1', 'c1'],
  ['a1', 'b1', 'c1', 'a1', 'b1', 'c1'],
  ['a2', 'b3', 'c2', 'a1', 'b1', 'c1'],
  ['a3', 'b3', 'c3', 'a1', 'b1', 'c1'],
  ['a1', 'b1', 'c1', 'a1', 'b1', 'c1'],
  ['a2', 'b3', 'c2', 'a1', 'b1', 'c1'],
  ['a3', 'b3', 'c3', 'a1', 'b1', 'c1'],
  ['a1', 'b1', 'c1', 'a1', 'b1', 'c1'],
  ['a2', 'b3', 'c2', 'a1', 'b1', 'c1'],
  ['a3', 'b3', 'c3', 'a1', 'b1', 'c1']
];

function rowGetter(rowIndex) {
  return rows[rowIndex];
}

// Set Table width

var tableW = ((window.outerWidth-192)-((window.outerWidth-192) * .08));
var columnW = tableW / 5;

// lineChart

var LineChart = rd3.LineChart;

var lineData = [
  {
    name: "series1",
    values: [ { x: 0, y: 20 }, { x: 24, y: 10 } ]
  },
  {
    name: "series2",
    values: [ { x: 70, y: 82 }, { x: 76, y: 82 } ]
  }
];

// Bar Chart

var BarChart = rd3.BarChart;

var barData = [
  {label: 'A', value: 5},
  {label: 'B', value: 6},
  {label: 'C', value: 3},
  {label: 'D', value: 4},
  {label: 'E', value: 10},
  {label: 'F', value: 7}
];

// Pie Chart

var PieChart = rd3.PieChart;

var pieData = [
  {label: 'Margarita', value: 20.0},
  {label: 'John', value: 55.0},
  {label: 'Tim', value: 25.0 }
];


// React Data

var PageSample = React.createClass({
    
    mixins: [Router.State],

    render: function() {

        return (
            <mui.AppCanvas predefinedLayout={1}> 

                <mui.AppBar
                  onMenuIconButtonTouchTap={this._onMenuIconButtonTouchTap}
                  title= "Clarity"
                  zDepth={0}>
                </mui.AppBar>
                
                <AppLeftNav ref="leftNav" />

                <RouteHandler />

                <main>

                    <nav className="main-nav">
                        <mui.Menu menuItems={nestedMenuItems} zDepth={0} />
                    </nav>

                    <section className="content">
                        <section id="details">
                            <div className="section-header">
                                <h1>Aging Reports</h1>
                            </div>
                            <div className="control">
                               <mui.RadioButtonGroup 
                                  name="shipSpeed"
                                  defaultSelected="not_light">
                                    <mui.RadioButton
                                      value="light"
                                      label="Acitve" />
                                    <mui.RadioButton
                                      value="not_light"
                                      label="Inactive"
                                      defaultChecked={true} />
                                   <mui.RadioButton
                                      value="ludicrous"
                                      label="Both"
                                      />
                                </mui.RadioButtonGroup>
                                <mui.Checkbox
                                  name="checkboxName1"
                                  value="checkboxValue1"
                                  label="Hide $0 Credit Balances" />
                            </div>
                            <div className="p-tb-2">
                                <Table
                                rowHeight={50}
                                rowGetter={rowGetter}
                                rowsCount={rows.length}
                                width={tableW}
                                height={400}
                                headerHeight={50}>
                                <Column
                                  label="Col 1"
                                  width={columnW}
                                  dataKey={0}
                                />
                                <Column
                                  label="Col 2"
                                  width={columnW}
                                  dataKey={0}
                                />
                                <Column
                                  label="Col 3"
                                  width={columnW}
                                  dataKey={0}
                                />
                                <Column
                                  label="Col 4"
                                  width={columnW}
                                  dataKey={0}
                                />
                                <Column
                                  label="Col 5"
                                  width={columnW}
                                  dataKey={1}
                                />
                              </Table>
                            </div>
                        </section>
                    </section>
                </main>

                <div className="footer">
                  <p>

                  </p>
                </div>
            </mui.AppCanvas>
        );
    },
    
    _onMenuIconButtonTouchTap: function() {
        this.refs.leftNav.toggle();
    }
    
});

module.exports = PageSample;